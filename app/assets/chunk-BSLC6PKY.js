import{a as J}from"./chunk-UYRLT4BG.js";import{a as z}from"./chunk-PC5HHMPZ.js";import{a as S}from"./chunk-J2GLTX2R.js";import{d as fe}from"./chunk-RASRAAIY.js";import"./chunk-JUPDXIAV.js";import"./chunk-GGYCCLGV.js";import{b as xe,c as q,e as y,f as U,g as Y,i as he,k as H,n as K,o as Q,t as ue,u as Z,w as W}from"./chunk-VEGP4YTZ.js";import{$b as a,Ab as L,B as ce,Bb as I,Cb as de,Eb as m,Fb as pe,Hb as G,I as R,Ib as A,Jb as i,Kb as r,Lb as d,Ob as P,Qb as g,Rb as p,S as v,Vb as le,W as D,Wb as ge,Xb as me,Yc as O,_a as c,aa as u,ac as N,bc as b,cc as _e,f as $,ia as _,ja as f,kb as M,l as T,p as V,pb as C,sa as w,x as ae,yb as h,zb as B}from"./chunk-VYPP3LKO.js";import"./chunk-4CLCTAJ7.js";var X=["method-selection","code-sent","code-verification","new-password","success"],Ce={"method-selection":{title:"Elige el m\xE9todo de verificaci\xF3n",step:1,total:4},"code-sent":{title:"C\xF3digo enviado",step:2,total:4},"code-verification":{title:"Verifica el c\xF3digo",step:2,total:4},"new-password":{title:"Nueva contrase\xF1a",step:3,total:4},success:{title:"Contrase\xF1a restablecida",step:4,total:4}},be=[{id:1,label:"M\xE9todo"},{id:2,label:"C\xF3digo"},{id:3,label:"Contrase\xF1a"},{id:4,label:"Confirmaci\xF3n"}];var ee=class o{userService=u(J);logger=u(S);storage=u(z);sendCode(t,e){if(this.logger.info(`Enviando c\xF3digo de verificaci\xF3n por ${t} a ${this.maskEmail(e)}`),t!=="email")throw new Error("Solo se soporta verificaci\xF3n por email actualmente");return this.storage.setTempResetEmail(e),this.userService.petitionRecoverPassword(e).pipe(V(n=>(this.logger.info("Respuesta del servidor al enviar c\xF3digo:",n),{message:"C\xF3digo enviado exitosamente",success:!0})))}resendCode(t,e){return this.logger.info(`Reenviando c\xF3digo de verificaci\xF3n por ${t} a ${this.maskEmail(e)}`),this.sendCode(t,e)}verifyCode(t,e){let n=this.storage.getTempResetEmail();if(!n)throw new Error("No se encontr\xF3 email para verificaci\xF3n. Reinicia el proceso.");return this.logger.info(`Verificando c\xF3digo para ${this.maskEmail(n)}`),this.userService.verifyCode(n,t).pipe(V(s=>(this.logger.info("Respuesta de verificaci\xF3n de c\xF3digo:",s),this.storage.setItem("verification_code",t),{message:"C\xF3digo verificado exitosamente",success:!0,valid:!0})))}maskEmail(t){if(!t||!t.includes("@"))return t;let[e,n]=t.split("@");return e.length<=2?`${e}***@${n}`:`${e.substring(0,2)+"*".repeat(Math.max(1,e.length-3))+e.slice(-1)}@${n}`}static \u0275fac=function(e){return new(e||o)};static \u0275prov=D({token:o,factory:o.\u0275fac,providedIn:"root"})};var F=class o{userService=u(J);logger=u(S);storage=u(z);resetPassword(t,e=!1){let n=this.storage.getTempResetEmail(),s=this.storage.getItem("verification_code");return n?s?(this.logger.info(`Restableciendo contrase\xF1a para ${this.maskEmail(n)}`),this.userService.updatePassword(n,s,t).pipe(V(l=>(this.logger.info("Respuesta de restablecimiento de contrase\xF1a:",l),this.storage.removeItem("verification_code"),this.storage.removeTempResetEmail(),{message:"Contrase\xF1a restablecida exitosamente",success:!0,sessionsClosed:e})),ce(l=>l.status===400&&l.error?.message.includes("code not verified")?T(()=>({status:400,error:{message:"El c\xF3digo de verificaci\xF3n no ha sido validado."}})):T(()=>l)))):(this.logger.error("No se encontr\xF3 c\xF3digo de verificaci\xF3n"),T(()=>({status:400,error:{message:"No se encontr\xF3 c\xF3digo de verificaci\xF3n. Verifica tu c\xF3digo primero."}}))):(this.logger.error("No se encontr\xF3 email para restablecer contrase\xF1a"),T(()=>({status:400,error:{message:"No se encontr\xF3 email para restablecer contrase\xF1a. Reinicia el proceso."}})))}calculatePasswordStrength(t){let e=this.validatePasswordStrength(t);return{level:e.level,percentage:e.percentage,text:e.text}}validatePasswordStrength(t){let e={length:t.length>=8,uppercase:/[A-Z]/.test(t),lowercase:/[a-z]/.test(t),numbers:/\d/.test(t),symbols:/[!@#$%^&*(),.?":{}|<>]/.test(t)},n=Object.values(e).filter(Boolean).length,s,l,x;switch(n){case 0:case 1:s="weak",l=20,x="Muy d\xE9bil";break;case 2:s="weak",l=40,x="D\xE9bil";break;case 3:s="fair",l=60,x="Regular";break;case 4:s="good",l=80,x="Buena";break;case 5:s="strong",l=100,x="Muy fuerte";break;default:s="weak",l=20,x="Muy d\xE9bil"}return{level:s,percentage:l,text:x,criteria:e}}passwordStrengthValidator=t=>{if(!t.value)return null;let e=this.validatePasswordStrength(t.value);return e.level==="weak"&&e.percentage<=40?{weakPassword:!0}:null};passwordMatchValidator=t=>{let e=t.get("newPassword"),n=t.get("confirmPassword");return!e||!n?null:e.value!==n.value?{passwordMismatch:!0}:null};maskEmail(t){if(!t||!t.includes("@"))return t;let[e,n]=t.split("@");return e.length<=2?`${e}***@${n}`:`${e.substring(0,2)+"*".repeat(Math.max(1,e.length-3))+e.slice(-1)}@${n}`}static \u0275fac=function(e){return new(e||o)};static \u0275prov=D({token:o,factory:o.\u0275fac,providedIn:"root"})};function we(o,t){if(o&1){let e=P();i(0,"button",9),g("click",function(){_(e);let s=p(2);return f(s.onMethodSelect("email"))}),i(1,"div",10),d(2,"i",11),r(),i(3,"div",12)(4,"h3",13),a(5,"Correo electr\xF3nico"),r(),i(6,"p",14),a(7),r()(),i(8,"div",15),d(9,"i",16),r()()}if(o&2){let e=p(2);h("disabled",e.isLoading),c(7),b(" Enviaremos un c\xF3digo a ",e.maskEmail(e.userProfile.email)," ")}}function Me(o,t){if(o&1){let e=P();i(0,"button",9),g("click",function(){_(e);let s=p(2);return f(s.onMethodSelect("phone"))}),i(1,"div",10),d(2,"i",17),r(),i(3,"div",12)(4,"h3",13),a(5,"Tel\xE9fono m\xF3vil"),r(),i(6,"p",14),a(7),r()(),i(8,"div",15),d(9,"i",16),r()()}if(o&2){let e=p(2);h("disabled",e.isLoading),c(7),b(" Enviaremos un SMS a ",e.userProfile.phone," ")}}function Oe(o,t){if(o&1&&(i(0,"div",6),C(1,we,10,2,"button",8)(2,Me,10,2,"button",8),r()),o&2){let e=p();c(),m(e.userProfile.hasEmail?1:-1),c(),m(e.userProfile.hasPhone?2:-1)}}function ve(o,t){if(o&1){let e=P();i(0,"div",7)(1,"div",18),d(2,"i",19),r(),i(3,"h3",20),a(4," No tienes m\xE9todos de recuperaci\xF3n configurados "),r(),i(5,"p",21),a(6," Para restablecer tu contrase\xF1a, necesitas tener configurado al menos un m\xE9todo de recuperaci\xF3n (correo electr\xF3nico o tel\xE9fono). Contacta con el administrador para obtener ayuda. "),r(),i(7,"button",22),g("click",function(){_(e);let s=p();return f(s.onGoToProfile())}),d(8,"i",23),a(9," Ir a configuraci\xF3n "),r()()}}var te=class o{userProfile;isLoading=!1;methodSelected=new w;goToProfile=new w;hasRecoveryMethods(){return this.userProfile.hasEmail||this.userProfile.hasPhone}onMethodSelect(t){this.isLoading||this.methodSelected.emit(t)}onGoToProfile(){this.goToProfile.emit()}maskEmail(t){let[e,n]=t.split("@");return`${e.charAt(0)+"*".repeat(e.length-2)+e.slice(-1)}@${n}`}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=M({type:o,selectors:[["app-method-selection"]],inputs:{userProfile:"userProfile",isLoading:"isLoading"},outputs:{methodSelected:"methodSelected",goToProfile:"goToProfile"},decls:10,vars:1,consts:[[1,"method-selection"],[1,"method-selection__header"],[1,"method-selection__icon"],[1,"fas","fa-shield-alt"],[1,"method-selection__title"],[1,"method-selection__description"],[1,"method-options"],[1,"no-recovery-methods"],["type","button",1,"method-option",3,"disabled"],["type","button",1,"method-option",3,"click","disabled"],[1,"method-option__icon"],[1,"fas","fa-envelope"],[1,"method-option__content"],[1,"method-option__title"],[1,"method-option__description"],[1,"method-option__arrow"],[1,"fas","fa-chevron-right"],[1,"fas","fa-mobile-alt"],[1,"no-recovery-methods__icon"],[1,"fas","fa-exclamation-triangle"],[1,"no-recovery-methods__title"],[1,"no-recovery-methods__description"],["type","button",1,"btn","btn--outline",3,"click"],[1,"fas","fa-user-cog"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),d(3,"i",3),r(),i(4,"h2",4),a(5," Verificaci\xF3n de seguridad requerida "),r(),i(6,"p",5),a(7," Para restablecer tu contrase\xF1a, necesitamos verificar tu identidad mediante uno de los siguientes m\xE9todos: "),r()(),C(8,Oe,3,2,"div",6)(9,ve,10,0,"div",7),r()),e&2&&(c(8),m(n.hasRecoveryMethods()?8:9))},dependencies:[O],styles:['@charset "UTF-8";.form-field[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 479px){.form-field[_ngcontent-%COMP%]{margin-bottom:20px}}.form-field__label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#1f2937;margin-bottom:8px}@media (max-width: 479px){.form-field__label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px}}.form-field__required[_ngcontent-%COMP%]{color:#ef4444;margin-left:4px}.form-field__input-container[_ngcontent-%COMP%]{position:relative}.form-field__input[_ngcontent-%COMP%]{width:100%;padding:12px 48px 12px 16px;border:2px solid #e5e7eb;border-radius:10px;font-size:14px;background:#fff;transition:all .2s ease}.form-field__input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f59e0b;box-shadow:0 0 0 3px #f59e0b1a}.form-field__input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}@media (max-width: 479px){.form-field__input[_ngcontent-%COMP%]{padding:14px 48px 14px 16px;font-size:16px}}.form-field__toggle-password[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;background:none;border:none;color:#9ca3af;cursor:pointer;padding:4px;border-radius:4px;transition:color .2s ease;transform:translateY(-50%)}.form-field__toggle-password[_ngcontent-%COMP%]:hover{color:#6b7280}.form-field__toggle-password[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.form-field__error[_ngcontent-%COMP%]{margin-top:6px;font-size:12px;color:#ef4444;font-weight:500}.form-field__error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:6px}@media (max-width: 479px){.form-field__error[_ngcontent-%COMP%]{font-size:11px}}.form-field__error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#ef4444}@media (max-width: 479px){.form-field__error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px}}.security-notice[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border:1px solid #f59e0b;border-radius:12px;padding:20px;margin-bottom:32px}.security-notice[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;gap:16px}@media (max-width: 479px){.security-notice[_ngcontent-%COMP%]{padding:16px;margin-bottom:24px;flex-direction:column;gap:12px}}.security-notice__icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f59e0b33;color:#c57f08;flex-shrink:0;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.security-notice__icon[_ngcontent-%COMP%]{width:40px;height:40px}.security-notice__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}}.security-notice__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.security-notice__content[_ngcontent-%COMP%]{flex:1}.security-notice__title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#634004;margin:0 0 12px}@media (max-width: 479px){.security-notice__title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:8px}}.security-notice__list[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:#945f06}.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px}@media (max-width: 479px){.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px}}.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.password-strength[_ngcontent-%COMP%]{margin-top:12px}.password-strength__label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-bottom:8px;font-weight:500}.password-strength__bar[_ngcontent-%COMP%]{height:4px;background:#e5e7eb;border-radius:2px;overflow:hidden;margin-bottom:6px}.password-strength__fill[_ngcontent-%COMP%]{height:100%;border-radius:2px;transition:all .2s ease}.password-strength__fill--weak[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#eb1515)}.password-strength__fill--fair[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#c57f08)}.password-strength__fill--good[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#0b63f3)}.password-strength__fill--strong[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#0c8a60)}.password-strength__text[_ngcontent-%COMP%]{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.password-strength__text--weak[_ngcontent-%COMP%]{color:#ef4444}.password-strength__text--fair[_ngcontent-%COMP%]{color:#f59e0b}.password-strength__text--good[_ngcontent-%COMP%]{color:#3b82f6}.password-strength__text--strong[_ngcontent-%COMP%]{color:#10b981}.form-options[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 479px){.form-options[_ngcontent-%COMP%]{margin:20px 0}}.form-options__checkbox[_ngcontent-%COMP%]{cursor:pointer}.form-options__checkbox[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;gap:12px}@media (max-width: 479px){.form-options__checkbox[_ngcontent-%COMP%]{gap:10px}}.form-options__checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e5e7eb;border-radius:4px;position:relative;flex-shrink:0;transition:all .2s ease}@media (max-width: 479px){.form-options__checkmark[_ngcontent-%COMP%]{width:18px;height:18px}}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#0b63f3);border-color:#3b82f6}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;left:50%;top:50%;color:#fff;font-size:12px;font-weight:700;transform:translate(-50%,-50%)}@media (max-width: 479px){.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]:after{font-size:10px}}.form-options__text[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#1f2937;line-height:1.5}@media (max-width: 479px){.form-options__text[_ngcontent-%COMP%]{font-size:13px}}.form-options__recommended[_ngcontent-%COMP%]{color:#10b981;font-weight:500;font-size:13px}@media (max-width: 479px){.form-options__recommended[_ngcontent-%COMP%]{font-size:12px}}.form-actions[_ngcontent-%COMP%]{padding-top:32px;border-top:1px solid #f3f4f6}.form-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:16px}@media (max-width: 479px){.form-actions[_ngcontent-%COMP%]{padding-top:24px;flex-direction:column;gap:12px}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-weight:600;font-size:14px;cursor:pointer;border:none;min-width:160px;transition:all .3s cubic-bezier(.4,0,.2,1)}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}@media (max-width: 479px){.btn[_ngcontent-%COMP%]{padding:14px 20px;font-size:16px}}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#c57f08);color:#fff;box-shadow:0 4px 14px #f59e0b40}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #f59e0b59}@media (prefers-reduced-motion: reduce){.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:none}}.btn--primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn--outline[_ngcontent-%COMP%]{background:transparent;color:#6b7280;border:2px solid #e5e7eb}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;color:#1f2937;border-color:#d1d5db}@media (hover: none) and (pointer: coarse){.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:transparent;color:#6b7280;border-color:#e5e7eb}}@media (prefers-reduced-motion: reduce){.btn[_ngcontent-%COMP%], .method-option[_ngcontent-%COMP%], .password-strength__fill[_ngcontent-%COMP%], .code-input__digit[_ngcontent-%COMP%]{transition:none!important}.btn[_ngcontent-%COMP%]:hover, .method-option[_ngcontent-%COMP%]:hover, .password-strength__fill[_ngcontent-%COMP%]:hover, .code-input__digit[_ngcontent-%COMP%]:hover{transform:none!important}}[_ngcontent-%COMP%]:focus-visible{outline:3px solid #f59e0b;outline-offset:2px;border-radius:4px}.method-selection__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}@media (max-width: 479px){.method-selection__header[_ngcontent-%COMP%]{margin-bottom:32px}}.method-selection__icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#3b82f6,#0b63f3);color:#fff;font-size:36px;margin:0 auto 24px;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.method-selection__icon[_ngcontent-%COMP%]{width:64px;height:64px;font-size:28px;margin-bottom:20px}}.method-selection__title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1f2937;margin:0 0 16px}@media (max-width: 479px){.method-selection__title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}}.method-selection__description[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;line-height:1.6;margin:0}@media (max-width: 479px){.method-selection__description[_ngcontent-%COMP%]{font-size:14px}}.method-options[_ngcontent-%COMP%]{display:grid;gap:16px}@media (max-width: 479px){.method-options[_ngcontent-%COMP%]{gap:12px}}.method-option[_ngcontent-%COMP%]{width:100%;padding:24px;border:2px solid #e5e7eb;border-radius:16px;background:#fff;cursor:pointer;text-align:left;transition:all .2s ease}.method-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:20px}@media (max-width: 479px){.method-option[_ngcontent-%COMP%]{padding:20px;gap:16px}}.method-option[_ngcontent-%COMP%]:hover{border-color:#f59e0b;box-shadow:0 8px 24px #f59e0b26;transform:translateY(-2px)}@media (prefers-reduced-motion: reduce){.method-option[_ngcontent-%COMP%]:hover{transform:none}}@media (hover: none) and (pointer: coarse){.method-option[_ngcontent-%COMP%]:hover{transform:none}}.method-option[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.method-option__icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#f59e0b,#c57f08);color:#fff;font-size:24px;flex-shrink:0;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.method-option__icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:20px}}.method-option__content[_ngcontent-%COMP%]{flex:1}.method-option__title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1f2937;margin:0 0 8px}@media (max-width: 479px){.method-option__title[_ngcontent-%COMP%]{font-size:16px;margin-bottom:4px}}.method-option__description[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;line-height:1.5;margin:0}@media (max-width: 479px){.method-option__description[_ngcontent-%COMP%]{font-size:13px}}.method-option__arrow[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;flex-shrink:0;transition:transform .3s ease}@media (max-width: 479px){.method-option__arrow[_ngcontent-%COMP%]{font-size:16px}}.method-option[_ngcontent-%COMP%]:hover   .method-option__arrow[_ngcontent-%COMP%]{transform:translate(4px);color:#f59e0b}.no-recovery-methods[_ngcontent-%COMP%]{text-align:center;padding:40px 20px}@media (max-width: 479px){.no-recovery-methods[_ngcontent-%COMP%]{padding:32px 16px}}.no-recovery-methods__icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#ef4444,#eb1515);color:#fff;font-size:36px;margin:0 auto 24px;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.no-recovery-methods__icon[_ngcontent-%COMP%]{width:64px;height:64px;font-size:28px;margin-bottom:20px}}.no-recovery-methods__title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1f2937;margin:0 0 16px}@media (max-width: 479px){.no-recovery-methods__title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:12px}}.no-recovery-methods__description[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;line-height:1.6;margin:0 0 32px}@media (max-width: 479px){.no-recovery-methods__description[_ngcontent-%COMP%]{font-size:14px;margin-bottom:24px}}']})};function ke(o,t){if(o&1){let e=P();i(0,"input",23,0),g("input",function(s){let l=_(e).$index,x=p();return f(x.onCharInput(s,l))})("keydown",function(s){let l=_(e).$index,x=p();return f(x.onCharKeydown(s,l))})("paste",function(s){let l=_(e).$index,x=p();return f(x.onCodePaste(s,l))}),r()}if(o&2){let e=t.$index,n=p();L("code-input__digit--error",n.hasError),h("formControlName","char"+e)}}function Se(o,t){if(o&1&&(i(0,"div",13),d(1,"i",24),a(2),r()),o&2){let e=p();c(2),b(" ",e.errorMessage," ")}}function ze(o,t){if(o&1&&(i(0,"div",15),d(1,"i",25),i(2,"span"),a(3),r()()),o&2){let e=p();c(3),b("Puedes solicitar un nuevo c\xF3digo en ",e.formatTime(e.timeLeft),"")}}function Ee(o,t){o&1&&d(0,"i",21)}function Fe(o,t){o&1&&d(0,"i",27)}function Te(o,t){if(o&1){let e=P();i(0,"button",26),g("click",function(){_(e);let s=p();return f(s.onResendCode())}),C(1,Ee,1,0,"i",21)(2,Fe,1,0,"i",27),a(3," Reenviar c\xF3digo "),r()}if(o&2){let e=p();h("disabled",e.isResending),c(),m(e.isResending?1:2)}}function Ve(o,t){o&1&&d(0,"i",21)}function Re(o,t){o&1&&d(0,"i",22)}var oe=class o{fb=u(Z);destroy$=new $;methodName;isLoading=!1;isResending=!1;codeLength=6;codeVerified=new w;resendCode=new w;goBack=new w;verificationForm;codeChars=[];hasError=!1;errorMessage="";timeLeft=0;ngOnInit(){this.initializeForm(),this.startTimer(60)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){let t={};this.codeChars=new Array(this.codeLength).fill("");for(let e=0;e<this.codeLength;e++)t[`char${e}`]=new he("",[y.required,y.pattern(/^[A-Za-z0-9]$/)]);this.verificationForm=this.fb.group(t)}onCharInput(t,e){let n=t.target.value,s=`char${e}`;if(n&&/^[A-Za-z0-9]$/.test(n)){if(this.verificationForm.get(s)?.setValue(n),this.codeChars[e]=n,e<this.codeLength-1){let l=t.target.parentElement.children[e+1];l&&l.focus()}}else this.verificationForm.get(s)?.setValue(""),this.codeChars[e]="";this.hasError=!1}onCharKeydown(t,e){let n=t.target;if(t.key==="Backspace"&&!n.value&&e>0){let s=n.parentElement.children[e-1];s&&(s.focus(),s.value="",this.verificationForm.get(`char${e-1}`)?.setValue(""),this.codeChars[e-1]="")}}onCodePaste(t,e){t.preventDefault();let s=(t.clipboardData?.getData("text/plain")||"").replace(/[^A-Za-z0-9]/g,"").slice(0,this.codeLength);s.split("").forEach((k,j)=>{if(j<this.codeLength){this.verificationForm.get(`char${j}`)?.setValue(k),this.codeChars[j]=k;let se=t.target.parentElement.children[j];se&&(se.value=k)}});let l=Math.min(s.length,this.codeLength-1),x=t.target.parentElement.children[l];x&&x.focus()}onVerifyCode(){if(this.verificationForm.invalid||this.isLoading)return;let t=this.codeChars.join("");this.codeVerified.emit(t)}onResendCode(){this.resendCode.emit()}onGoBack(){this.goBack.emit()}setError(t){this.hasError=!0,this.errorMessage=t,this.verificationForm.reset(),this.codeChars.fill("")}startTimer(t){this.timeLeft=t,ae(1e3).pipe(v(this.destroy$)).subscribe(()=>{this.timeLeft>0&&this.timeLeft--})}resetTimer(t=60){this.startTimer(t),this.hasError=!1,this.verificationForm.reset(),this.codeChars.fill("")}formatTime(t){let e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=M({type:o,selectors:[["app-code-verification"]],inputs:{methodName:"methodName",isLoading:"isLoading",isResending:"isResending",codeLength:"codeLength"},outputs:{codeVerified:"codeVerified",resendCode:"resendCode",goBack:"goBack"},decls:29,vars:9,consts:[["charInput",""],[1,"code-verification"],[1,"code-verification__header"],[1,"code-verification__icon"],[1,"fas","fa-key"],[1,"code-verification__title"],[1,"code-verification__description"],["novalidate","",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"form-field__label"],[1,"form-field__required"],[1,"code-input"],["type","text","maxlength","1","autocomplete","one-time-code",1,"code-input__digit",3,"code-input__digit--error","formControlName"],[1,"form-field__error"],[1,"verification-timer"],[1,"verification-timer__countdown"],["type","button",1,"verification-timer__resend",3,"disabled"],[1,"form-actions"],["type","button",1,"btn","btn--outline",3,"click","disabled"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn--primary",3,"disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-check"],["type","text","maxlength","1","autocomplete","one-time-code",1,"code-input__digit",3,"input","keydown","paste","formControlName"],[1,"fas","fa-exclamation-triangle"],[1,"fas","fa-clock"],["type","button",1,"verification-timer__resend",3,"click","disabled"],[1,"fas","fa-redo"]],template:function(e,n){e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3),d(3,"i",4),r(),i(4,"h2",5),a(5,"Verificar c\xF3digo"),r(),i(6,"p",6),a(7),r()(),i(8,"form",7),g("ngSubmit",function(){return n.onVerifyCode()}),i(9,"div",8)(10,"label",9),a(11," C\xF3digo de verificaci\xF3n "),i(12,"span",10),a(13,"*"),r()(),i(14,"div",11),G(15,ke,2,3,"input",12,pe),r(),C(17,Se,3,1,"div",13),r(),i(18,"div",14),C(19,ze,4,1,"div",15)(20,Te,4,2,"button",16),r(),i(21,"div",17)(22,"button",18),g("click",function(){return n.onGoBack()}),d(23,"i",19),a(24," Atr\xE1s "),r(),i(25,"button",20),C(26,Ve,1,0,"i",21)(27,Re,1,0,"i",22),a(28),r()()()()),e&2&&(c(7),_e(" Ingresa el c\xF3digo de ",n.codeLength," caracteres que enviamos a tu ",n.methodName," "),c(),h("formGroup",n.verificationForm),c(7),A(n.codeChars),c(2),m(n.hasError?17:-1),c(2),m(n.timeLeft>0?19:20),c(3),h("disabled",n.isLoading),c(3),h("disabled",n.verificationForm.invalid||n.isLoading),c(),m(n.isLoading?26:27),c(2),b(" ",n.isLoading?"Verificando...":"Verificar c\xF3digo"," "))},dependencies:[O,W,H,q,U,Y,ue,K,Q],styles:['@charset "UTF-8";.form-field[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 479px){.form-field[_ngcontent-%COMP%]{margin-bottom:20px}}.form-field__label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#1f2937;margin-bottom:8px}@media (max-width: 479px){.form-field__label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px}}.form-field__required[_ngcontent-%COMP%]{color:#ef4444;margin-left:4px}.form-field__input-container[_ngcontent-%COMP%]{position:relative}.form-field__input[_ngcontent-%COMP%]{width:100%;padding:12px 48px 12px 16px;border:2px solid #e5e7eb;border-radius:10px;font-size:14px;background:#fff;transition:all .2s ease}.form-field__input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f59e0b;box-shadow:0 0 0 3px #f59e0b1a}.form-field__input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}@media (max-width: 479px){.form-field__input[_ngcontent-%COMP%]{padding:14px 48px 14px 16px;font-size:16px}}.form-field__toggle-password[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;background:none;border:none;color:#9ca3af;cursor:pointer;padding:4px;border-radius:4px;transition:color .2s ease;transform:translateY(-50%)}.form-field__toggle-password[_ngcontent-%COMP%]:hover{color:#6b7280}.form-field__toggle-password[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.form-field__error[_ngcontent-%COMP%]{margin-top:6px;font-size:12px;color:#ef4444;font-weight:500}.form-field__error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:6px}@media (max-width: 479px){.form-field__error[_ngcontent-%COMP%]{font-size:11px}}.form-field__error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#ef4444}@media (max-width: 479px){.form-field__error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px}}.security-notice[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border:1px solid #f59e0b;border-radius:12px;padding:20px;margin-bottom:32px}.security-notice[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;gap:16px}@media (max-width: 479px){.security-notice[_ngcontent-%COMP%]{padding:16px;margin-bottom:24px;flex-direction:column;gap:12px}}.security-notice__icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f59e0b33;color:#c57f08;flex-shrink:0;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.security-notice__icon[_ngcontent-%COMP%]{width:40px;height:40px}.security-notice__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}}.security-notice__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.security-notice__content[_ngcontent-%COMP%]{flex:1}.security-notice__title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#634004;margin:0 0 12px}@media (max-width: 479px){.security-notice__title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:8px}}.security-notice__list[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:#945f06}.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px}@media (max-width: 479px){.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px}}.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.password-strength[_ngcontent-%COMP%]{margin-top:12px}.password-strength__label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-bottom:8px;font-weight:500}.password-strength__bar[_ngcontent-%COMP%]{height:4px;background:#e5e7eb;border-radius:2px;overflow:hidden;margin-bottom:6px}.password-strength__fill[_ngcontent-%COMP%]{height:100%;border-radius:2px;transition:all .2s ease}.password-strength__fill--weak[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#eb1515)}.password-strength__fill--fair[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#c57f08)}.password-strength__fill--good[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#0b63f3)}.password-strength__fill--strong[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#0c8a60)}.password-strength__text[_ngcontent-%COMP%]{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.password-strength__text--weak[_ngcontent-%COMP%]{color:#ef4444}.password-strength__text--fair[_ngcontent-%COMP%]{color:#f59e0b}.password-strength__text--good[_ngcontent-%COMP%]{color:#3b82f6}.password-strength__text--strong[_ngcontent-%COMP%]{color:#10b981}.form-options[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 479px){.form-options[_ngcontent-%COMP%]{margin:20px 0}}.form-options__checkbox[_ngcontent-%COMP%]{cursor:pointer}.form-options__checkbox[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;gap:12px}@media (max-width: 479px){.form-options__checkbox[_ngcontent-%COMP%]{gap:10px}}.form-options__checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e5e7eb;border-radius:4px;position:relative;flex-shrink:0;transition:all .2s ease}@media (max-width: 479px){.form-options__checkmark[_ngcontent-%COMP%]{width:18px;height:18px}}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#0b63f3);border-color:#3b82f6}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;left:50%;top:50%;color:#fff;font-size:12px;font-weight:700;transform:translate(-50%,-50%)}@media (max-width: 479px){.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]:after{font-size:10px}}.form-options__text[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#1f2937;line-height:1.5}@media (max-width: 479px){.form-options__text[_ngcontent-%COMP%]{font-size:13px}}.form-options__recommended[_ngcontent-%COMP%]{color:#10b981;font-weight:500;font-size:13px}@media (max-width: 479px){.form-options__recommended[_ngcontent-%COMP%]{font-size:12px}}.form-actions[_ngcontent-%COMP%]{padding-top:32px;border-top:1px solid #f3f4f6}.form-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:16px}@media (max-width: 479px){.form-actions[_ngcontent-%COMP%]{padding-top:24px;flex-direction:column;gap:12px}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-weight:600;font-size:14px;cursor:pointer;border:none;min-width:160px;transition:all .3s cubic-bezier(.4,0,.2,1)}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}@media (max-width: 479px){.btn[_ngcontent-%COMP%]{padding:14px 20px;font-size:16px}}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#c57f08);color:#fff;box-shadow:0 4px 14px #f59e0b40}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #f59e0b59}@media (prefers-reduced-motion: reduce){.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:none}}.btn--primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn--outline[_ngcontent-%COMP%]{background:transparent;color:#6b7280;border:2px solid #e5e7eb}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;color:#1f2937;border-color:#d1d5db}@media (hover: none) and (pointer: coarse){.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:transparent;color:#6b7280;border-color:#e5e7eb}}@media (prefers-reduced-motion: reduce){.btn[_ngcontent-%COMP%], .method-option[_ngcontent-%COMP%], .password-strength__fill[_ngcontent-%COMP%], .code-input__digit[_ngcontent-%COMP%]{transition:none!important}.btn[_ngcontent-%COMP%]:hover, .method-option[_ngcontent-%COMP%]:hover, .password-strength__fill[_ngcontent-%COMP%]:hover, .code-input__digit[_ngcontent-%COMP%]:hover{transform:none!important}}[_ngcontent-%COMP%]:focus-visible{outline:3px solid #f59e0b;outline-offset:2px;border-radius:4px}.code-verification__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}@media (max-width: 479px){.code-verification__header[_ngcontent-%COMP%]{margin-bottom:32px}}.code-verification__icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#3b82f6,#0b63f3);color:#fff;font-size:36px;margin:0 auto 24px;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.code-verification__icon[_ngcontent-%COMP%]{width:64px;height:64px;font-size:28px;margin-bottom:20px}}.code-verification__title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1f2937;margin:0 0 16px}@media (max-width: 479px){.code-verification__title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}}.code-verification__description[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;line-height:1.6;margin:0}@media (max-width: 479px){.code-verification__description[_ngcontent-%COMP%]{font-size:14px}}.code-input[_ngcontent-%COMP%]{gap:12px;justify-content:center;margin:16px 0}.code-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px}@media (max-width: 479px){.code-input[_ngcontent-%COMP%]{gap:8px}}.code-input__digit[_ngcontent-%COMP%]{width:56px;height:56px;border:2px solid #e5e7eb;border-radius:12px;text-align:center;font-size:20px;font-weight:600;color:#1f2937;background:#fff;transition:all .2s ease}@media (max-width: 479px){.code-input__digit[_ngcontent-%COMP%]{width:48px;height:48px;font-size:18px}}.code-input__digit[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.code-input__digit--error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.verification-timer[_ngcontent-%COMP%]{text-align:center;margin:24px 0}@media (max-width: 479px){.verification-timer[_ngcontent-%COMP%]{margin:20px 0}}.verification-timer__countdown[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.verification-timer__countdown[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}@media (max-width: 479px){.verification-timer__countdown[_ngcontent-%COMP%]{font-size:13px}}.verification-timer__resend[_ngcontent-%COMP%]{background:none;border:none;color:#3b82f6;font-size:14px;font-weight:500;cursor:pointer;transition:color .3s ease}.verification-timer__resend[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}@media (max-width: 479px){.verification-timer__resend[_ngcontent-%COMP%]{font-size:13px}}.verification-timer__resend[_ngcontent-%COMP%]:hover{color:#0b63f3}.verification-timer__resend[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}']})};function Le(o,t){if(o&1&&(i(0,"div",19),d(1,"i",35),a(2),r()),o&2){let e=p();c(2),b(" ",e.getFieldError("newPassword")," ")}}function Ie(o,t){if(o&1&&(i(0,"div",20)(1,"div",36),a(2,"Seguridad de la contrase\xF1a:"),r(),i(3,"div",37),d(4,"div",38),r(),i(5,"span",39),a(6),r()()),o&2){let e=p();c(4),I("password-strength__fill--"+e.passwordStrength.level),B("width",e.passwordStrength.percentage,"%"),c(),I("password-strength__text--"+e.passwordStrength.level),c(),b(" ",e.passwordStrength.text," ")}}function Ne(o,t){if(o&1&&(i(0,"div",19),d(1,"i",35),a(2),r()),o&2){let e=p();c(2),b(" ",e.getFieldError("confirmPassword")," ")}}function je(o,t){o&1&&(i(0,"div",19),d(1,"i",35),a(2," Las contrase\xF1as no coinciden "),r())}function $e(o,t){o&1&&d(0,"i",33)}function De(o,t){o&1&&d(0,"i",34)}var ie=class o{fb=u(Z);passwordService=u(F);isLoading=!1;passwordReset=new w;goBack=new w;passwordForm;showNewPassword=!1;showConfirmPassword=!1;passwordStrength={level:"weak",percentage:0,text:"Muy d\xE9bil"};ngOnInit(){this.initializeForm()}initializeForm(){this.passwordForm=this.fb.group({newPassword:["",[y.required,y.minLength(8),this.passwordService.passwordStrengthValidator]],confirmPassword:["",[y.required]],closeOtherSessions:[!0]},{validators:this.passwordService.passwordMatchValidator}),this.passwordForm.get("newPassword")?.valueChanges.subscribe(t=>{t?this.passwordStrength=this.passwordService.calculatePasswordStrength(t):this.passwordStrength={level:"weak",percentage:0,text:"Muy d\xE9bil"}})}toggleNewPasswordVisibility(){this.showNewPassword=!this.showNewPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}onResetPassword(){if(this.passwordForm.invalid||this.isLoading)return;let t={newPassword:this.passwordForm.get("newPassword").value,closeOtherSessions:this.passwordForm.get("closeOtherSessions").value};this.passwordReset.emit(t)}onGoBack(){this.goBack.emit()}getFieldError(t){let e=this.passwordForm.get(t);if(e?.errors){if(e.errors.required)return"Este campo es obligatorio";if(e.errors.minlength)return`M\xEDnimo ${e.errors.minlength.requiredLength} caracteres`;if(e.errors.weakPassword)return"La contrase\xF1a debe ser m\xE1s segura"}return""}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=M({type:o,selectors:[["app-password-form"]],inputs:{isLoading:"isLoading"},outputs:{passwordReset:"passwordReset",goBack:"goBack"},decls:62,vars:15,consts:[[1,"password-form"],[1,"password-form__header"],[1,"password-form__icon"],[1,"fas","fa-lock"],[1,"password-form__title"],[1,"password-form__description"],[1,"security-notice"],[1,"security-notice__icon"],[1,"fas","fa-shield-alt"],[1,"security-notice__content"],[1,"security-notice__title"],[1,"security-notice__list"],["novalidate","",3,"ngSubmit","formGroup"],[1,"form-field"],["for","newPassword",1,"form-field__label"],[1,"form-field__required"],[1,"form-field__input-container"],["id","newPassword","formControlName","newPassword","placeholder","Ingresa tu nueva contrase\xF1a",1,"form-field__input",3,"type"],["type","button",1,"form-field__toggle-password",3,"click"],[1,"form-field__error"],[1,"password-strength"],["for","confirmPassword",1,"form-field__label"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirma tu nueva contrase\xF1a",1,"form-field__input",3,"type"],[1,"form-options"],[1,"form-options__checkbox"],["type","checkbox","formControlName","closeOtherSessions"],[1,"form-options__checkmark"],[1,"form-options__text"],[1,"form-options__recommended"],[1,"form-actions"],["type","button",1,"btn","btn--outline",3,"click","disabled"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn--primary",3,"disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-save"],[1,"fas","fa-exclamation-triangle"],[1,"password-strength__label"],[1,"password-strength__bar"],[1,"password-strength__fill"],[1,"password-strength__text"]],template:function(e,n){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),d(3,"i",3),r(),i(4,"h2",4),a(5,"Crear nueva contrase\xF1a"),r(),i(6,"p",5),a(7," Tu identidad ha sido verificada. Ahora puedes establecer una nueva contrase\xF1a segura. "),r()(),i(8,"div",6)(9,"div",7),d(10,"i",8),r(),i(11,"div",9)(12,"h4",10),a(13,"Recomendaciones de seguridad"),r(),i(14,"ul",11)(15,"li"),a(16,"Usa al menos 8 caracteres"),r(),i(17,"li"),a(18,"Incluye may\xFAsculas, min\xFAsculas y n\xFAmeros"),r(),i(19,"li"),a(20,"Agrega s\xEDmbolos especiales (!@#$%^&*)"),r(),i(21,"li"),a(22,"No uses informaci\xF3n personal"),r()()()(),i(23,"form",12),g("ngSubmit",function(){return n.onResetPassword()}),i(24,"div",13)(25,"label",14),a(26," Nueva contrase\xF1a "),i(27,"span",15),a(28,"*"),r()(),i(29,"div",16),d(30,"input",17),i(31,"button",18),g("click",function(){return n.toggleNewPasswordVisibility()}),d(32,"i"),r()(),C(33,Le,3,1,"div",19)(34,Ie,7,7,"div",20),r(),i(35,"div",13)(36,"label",21),a(37," Confirmar nueva contrase\xF1a "),i(38,"span",15),a(39,"*"),r()(),i(40,"div",16),d(41,"input",22),i(42,"button",18),g("click",function(){return n.toggleConfirmPasswordVisibility()}),d(43,"i"),r()(),C(44,Ne,3,1,"div",19)(45,je,3,0,"div",19),r(),i(46,"div",23)(47,"label",24),d(48,"input",25)(49,"span",26),i(50,"span",27),a(51," Cerrar sesiones activas en otros dispositivos "),i(52,"span",28),a(53,"(Recomendado)"),r()()()(),i(54,"div",29)(55,"button",30),g("click",function(){return n.onGoBack()}),d(56,"i",31),a(57," Atr\xE1s "),r(),i(58,"button",32),C(59,$e,1,0,"i",33)(60,De,1,0,"i",34),a(61),r()()()()),e&2){let s,l,x,k;c(23),h("formGroup",n.passwordForm),c(7),h("type",n.showNewPassword?"text":"password"),c(2),I(n.showNewPassword?"fas fa-eye-slash":"fas fa-eye"),c(),m((s=n.passwordForm.get("newPassword"))!=null&&s.invalid&&((s=n.passwordForm.get("newPassword"))!=null&&s.touched)?33:-1),c(),m((l=n.passwordForm.get("newPassword"))!=null&&l.value?34:-1),c(7),h("type",n.showConfirmPassword?"text":"password"),c(2),I(n.showConfirmPassword?"fas fa-eye-slash":"fas fa-eye"),c(),m((x=n.passwordForm.get("confirmPassword"))!=null&&x.invalid&&((x=n.passwordForm.get("confirmPassword"))!=null&&x.touched)?44:-1),c(),m(n.passwordForm.errors!=null&&n.passwordForm.errors.passwordMismatch&&((k=n.passwordForm.get("confirmPassword"))!=null&&k.touched)?45:-1),c(10),h("disabled",n.isLoading),c(3),h("disabled",n.passwordForm.invalid||n.isLoading),c(),m(n.isLoading?59:60),c(2),b(" ",n.isLoading?"Guardando...":"Restablecer contrase\xF1a"," ")}},dependencies:[O,W,H,q,xe,U,Y,K,Q],styles:['@charset "UTF-8";.form-field[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 479px){.form-field[_ngcontent-%COMP%]{margin-bottom:20px}}.form-field__label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#1f2937;margin-bottom:8px}@media (max-width: 479px){.form-field__label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px}}.form-field__required[_ngcontent-%COMP%]{color:#ef4444;margin-left:4px}.form-field__input-container[_ngcontent-%COMP%]{position:relative}.form-field__input[_ngcontent-%COMP%]{width:100%;padding:12px 48px 12px 16px;border:2px solid #e5e7eb;border-radius:10px;font-size:14px;background:#fff;transition:all .2s ease}.form-field__input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f59e0b;box-shadow:0 0 0 3px #f59e0b1a}.form-field__input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}@media (max-width: 479px){.form-field__input[_ngcontent-%COMP%]{padding:14px 48px 14px 16px;font-size:16px}}.form-field__toggle-password[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;background:none;border:none;color:#9ca3af;cursor:pointer;padding:4px;border-radius:4px;transition:color .2s ease;transform:translateY(-50%)}.form-field__toggle-password[_ngcontent-%COMP%]:hover{color:#6b7280}.form-field__toggle-password[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.form-field__error[_ngcontent-%COMP%]{margin-top:6px;font-size:12px;color:#ef4444;font-weight:500}.form-field__error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:6px}@media (max-width: 479px){.form-field__error[_ngcontent-%COMP%]{font-size:11px}}.form-field__error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#ef4444}@media (max-width: 479px){.form-field__error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px}}.security-notice[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border:1px solid #f59e0b;border-radius:12px;padding:20px;margin-bottom:32px}.security-notice[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;gap:16px}@media (max-width: 479px){.security-notice[_ngcontent-%COMP%]{padding:16px;margin-bottom:24px;flex-direction:column;gap:12px}}.security-notice__icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f59e0b33;color:#c57f08;flex-shrink:0;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.security-notice__icon[_ngcontent-%COMP%]{width:40px;height:40px}.security-notice__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}}.security-notice__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.security-notice__content[_ngcontent-%COMP%]{flex:1}.security-notice__title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#634004;margin:0 0 12px}@media (max-width: 479px){.security-notice__title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:8px}}.security-notice__list[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:#945f06}.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px}@media (max-width: 479px){.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px}}.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.password-strength[_ngcontent-%COMP%]{margin-top:12px}.password-strength__label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-bottom:8px;font-weight:500}.password-strength__bar[_ngcontent-%COMP%]{height:4px;background:#e5e7eb;border-radius:2px;overflow:hidden;margin-bottom:6px}.password-strength__fill[_ngcontent-%COMP%]{height:100%;border-radius:2px;transition:all .2s ease}.password-strength__fill--weak[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#eb1515)}.password-strength__fill--fair[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#c57f08)}.password-strength__fill--good[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#0b63f3)}.password-strength__fill--strong[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#0c8a60)}.password-strength__text[_ngcontent-%COMP%]{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.password-strength__text--weak[_ngcontent-%COMP%]{color:#ef4444}.password-strength__text--fair[_ngcontent-%COMP%]{color:#f59e0b}.password-strength__text--good[_ngcontent-%COMP%]{color:#3b82f6}.password-strength__text--strong[_ngcontent-%COMP%]{color:#10b981}.form-options[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 479px){.form-options[_ngcontent-%COMP%]{margin:20px 0}}.form-options__checkbox[_ngcontent-%COMP%]{cursor:pointer}.form-options__checkbox[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;gap:12px}@media (max-width: 479px){.form-options__checkbox[_ngcontent-%COMP%]{gap:10px}}.form-options__checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e5e7eb;border-radius:4px;position:relative;flex-shrink:0;transition:all .2s ease}@media (max-width: 479px){.form-options__checkmark[_ngcontent-%COMP%]{width:18px;height:18px}}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#0b63f3);border-color:#3b82f6}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;left:50%;top:50%;color:#fff;font-size:12px;font-weight:700;transform:translate(-50%,-50%)}@media (max-width: 479px){.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]:after{font-size:10px}}.form-options__text[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#1f2937;line-height:1.5}@media (max-width: 479px){.form-options__text[_ngcontent-%COMP%]{font-size:13px}}.form-options__recommended[_ngcontent-%COMP%]{color:#10b981;font-weight:500;font-size:13px}@media (max-width: 479px){.form-options__recommended[_ngcontent-%COMP%]{font-size:12px}}.form-actions[_ngcontent-%COMP%]{padding-top:32px;border-top:1px solid #f3f4f6}.form-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:16px}@media (max-width: 479px){.form-actions[_ngcontent-%COMP%]{padding-top:24px;flex-direction:column;gap:12px}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-weight:600;font-size:14px;cursor:pointer;border:none;min-width:160px;transition:all .3s cubic-bezier(.4,0,.2,1)}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}@media (max-width: 479px){.btn[_ngcontent-%COMP%]{padding:14px 20px;font-size:16px}}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#c57f08);color:#fff;box-shadow:0 4px 14px #f59e0b40}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #f59e0b59}@media (prefers-reduced-motion: reduce){.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:none}}.btn--primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn--outline[_ngcontent-%COMP%]{background:transparent;color:#6b7280;border:2px solid #e5e7eb}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;color:#1f2937;border-color:#d1d5db}@media (hover: none) and (pointer: coarse){.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:transparent;color:#6b7280;border-color:#e5e7eb}}@media (prefers-reduced-motion: reduce){.btn[_ngcontent-%COMP%], .method-option[_ngcontent-%COMP%], .password-strength__fill[_ngcontent-%COMP%], .code-input__digit[_ngcontent-%COMP%]{transition:none!important}.btn[_ngcontent-%COMP%]:hover, .method-option[_ngcontent-%COMP%]:hover, .password-strength__fill[_ngcontent-%COMP%]:hover, .code-input__digit[_ngcontent-%COMP%]:hover{transform:none!important}}[_ngcontent-%COMP%]:focus-visible{outline:3px solid #f59e0b;outline-offset:2px;border-radius:4px}.password-form__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}@media (max-width: 479px){.password-form__header[_ngcontent-%COMP%]{margin-bottom:24px}}.password-form__icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#f59e0b,#c57f08);color:#fff;font-size:36px;margin:0 auto 24px;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.password-form__icon[_ngcontent-%COMP%]{width:64px;height:64px;font-size:28px;margin-bottom:20px}}.password-form__title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1f2937;margin:0 0 16px}@media (max-width: 479px){.password-form__title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}}.password-form__description[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;line-height:1.6;margin:0}@media (max-width: 479px){.password-form__description[_ngcontent-%COMP%]{font-size:14px}}']})};function Be(o,t){o&1&&a(0," Tambi\xE9n hemos cerrado las sesiones activas en otros dispositivos por seguridad. ")}var re=class o{sessionsClosed=!1;goToProfile=new w;goToDashboard=new w;onGoToProfile(){this.goToProfile.emit()}onGoToDashboard(){this.goToDashboard.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=M({type:o,selectors:[["app-success-message"]],inputs:{sessionsClosed:"sessionsClosed"},outputs:{goToProfile:"goToProfile",goToDashboard:"goToDashboard"},decls:15,vars:1,consts:[[1,"success-message"],[1,"success-message__icon"],[1,"fas","fa-check-circle"],[1,"success-message__title"],[1,"success-message__description"],[1,"success-actions"],["type","button",1,"btn","btn--primary",3,"click"],[1,"fas","fa-user"],["type","button",1,"btn","btn--outline",3,"click"],[1,"fas","fa-home"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1),d(2,"i",2),r(),i(3,"h2",3),a(4,"\xA1Contrase\xF1a restablecida con \xE9xito!"),r(),i(5,"p",4),a(6," Tu contrase\xF1a ha sido actualizada correctamente. "),C(7,Be,1,0),r(),i(8,"div",5)(9,"button",6),g("click",function(){return n.onGoToProfile()}),d(10,"i",7),a(11," Ir al perfil "),r(),i(12,"button",8),g("click",function(){return n.onGoToDashboard()}),d(13,"i",9),a(14," Ir al inicio "),r()()()),e&2&&(c(7),m(n.sessionsClosed?7:-1))},dependencies:[O],styles:['@charset "UTF-8";.form-field[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 479px){.form-field[_ngcontent-%COMP%]{margin-bottom:20px}}.form-field__label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#1f2937;margin-bottom:8px}@media (max-width: 479px){.form-field__label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px}}.form-field__required[_ngcontent-%COMP%]{color:#ef4444;margin-left:4px}.form-field__input-container[_ngcontent-%COMP%]{position:relative}.form-field__input[_ngcontent-%COMP%]{width:100%;padding:12px 48px 12px 16px;border:2px solid #e5e7eb;border-radius:10px;font-size:14px;background:#fff;transition:all .2s ease}.form-field__input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f59e0b;box-shadow:0 0 0 3px #f59e0b1a}.form-field__input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}@media (max-width: 479px){.form-field__input[_ngcontent-%COMP%]{padding:14px 48px 14px 16px;font-size:16px}}.form-field__toggle-password[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;background:none;border:none;color:#9ca3af;cursor:pointer;padding:4px;border-radius:4px;transition:color .2s ease;transform:translateY(-50%)}.form-field__toggle-password[_ngcontent-%COMP%]:hover{color:#6b7280}.form-field__toggle-password[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.form-field__error[_ngcontent-%COMP%]{margin-top:6px;font-size:12px;color:#ef4444;font-weight:500}.form-field__error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:6px}@media (max-width: 479px){.form-field__error[_ngcontent-%COMP%]{font-size:11px}}.form-field__error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#ef4444}@media (max-width: 479px){.form-field__error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px}}.security-notice[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border:1px solid #f59e0b;border-radius:12px;padding:20px;margin-bottom:32px}.security-notice[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;gap:16px}@media (max-width: 479px){.security-notice[_ngcontent-%COMP%]{padding:16px;margin-bottom:24px;flex-direction:column;gap:12px}}.security-notice__icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f59e0b33;color:#c57f08;flex-shrink:0;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.security-notice__icon[_ngcontent-%COMP%]{width:40px;height:40px}.security-notice__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}}.security-notice__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.security-notice__content[_ngcontent-%COMP%]{flex:1}.security-notice__title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#634004;margin:0 0 12px}@media (max-width: 479px){.security-notice__title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:8px}}.security-notice__list[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:#945f06}.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px}@media (max-width: 479px){.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px}}.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.password-strength[_ngcontent-%COMP%]{margin-top:12px}.password-strength__label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-bottom:8px;font-weight:500}.password-strength__bar[_ngcontent-%COMP%]{height:4px;background:#e5e7eb;border-radius:2px;overflow:hidden;margin-bottom:6px}.password-strength__fill[_ngcontent-%COMP%]{height:100%;border-radius:2px;transition:all .2s ease}.password-strength__fill--weak[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#eb1515)}.password-strength__fill--fair[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#c57f08)}.password-strength__fill--good[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#0b63f3)}.password-strength__fill--strong[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#0c8a60)}.password-strength__text[_ngcontent-%COMP%]{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.password-strength__text--weak[_ngcontent-%COMP%]{color:#ef4444}.password-strength__text--fair[_ngcontent-%COMP%]{color:#f59e0b}.password-strength__text--good[_ngcontent-%COMP%]{color:#3b82f6}.password-strength__text--strong[_ngcontent-%COMP%]{color:#10b981}.form-options[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 479px){.form-options[_ngcontent-%COMP%]{margin:20px 0}}.form-options__checkbox[_ngcontent-%COMP%]{cursor:pointer}.form-options__checkbox[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;gap:12px}@media (max-width: 479px){.form-options__checkbox[_ngcontent-%COMP%]{gap:10px}}.form-options__checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e5e7eb;border-radius:4px;position:relative;flex-shrink:0;transition:all .2s ease}@media (max-width: 479px){.form-options__checkmark[_ngcontent-%COMP%]{width:18px;height:18px}}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#0b63f3);border-color:#3b82f6}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;left:50%;top:50%;color:#fff;font-size:12px;font-weight:700;transform:translate(-50%,-50%)}@media (max-width: 479px){.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]:after{font-size:10px}}.form-options__text[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#1f2937;line-height:1.5}@media (max-width: 479px){.form-options__text[_ngcontent-%COMP%]{font-size:13px}}.form-options__recommended[_ngcontent-%COMP%]{color:#10b981;font-weight:500;font-size:13px}@media (max-width: 479px){.form-options__recommended[_ngcontent-%COMP%]{font-size:12px}}.form-actions[_ngcontent-%COMP%]{padding-top:32px;border-top:1px solid #f3f4f6}.form-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:16px}@media (max-width: 479px){.form-actions[_ngcontent-%COMP%]{padding-top:24px;flex-direction:column;gap:12px}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-weight:600;font-size:14px;cursor:pointer;border:none;min-width:160px;transition:all .3s cubic-bezier(.4,0,.2,1)}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}@media (max-width: 479px){.btn[_ngcontent-%COMP%]{padding:14px 20px;font-size:16px}}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#c57f08);color:#fff;box-shadow:0 4px 14px #f59e0b40}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #f59e0b59}@media (prefers-reduced-motion: reduce){.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:none}}.btn--primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn--outline[_ngcontent-%COMP%]{background:transparent;color:#6b7280;border:2px solid #e5e7eb}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;color:#1f2937;border-color:#d1d5db}@media (hover: none) and (pointer: coarse){.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:transparent;color:#6b7280;border-color:#e5e7eb}}@media (prefers-reduced-motion: reduce){.btn[_ngcontent-%COMP%], .method-option[_ngcontent-%COMP%], .password-strength__fill[_ngcontent-%COMP%], .code-input__digit[_ngcontent-%COMP%]{transition:none!important}.btn[_ngcontent-%COMP%]:hover, .method-option[_ngcontent-%COMP%]:hover, .password-strength__fill[_ngcontent-%COMP%]:hover, .code-input__digit[_ngcontent-%COMP%]:hover{transform:none!important}}[_ngcontent-%COMP%]:focus-visible{outline:3px solid #f59e0b;outline-offset:2px;border-radius:4px}.success-message[_ngcontent-%COMP%]{text-align:center;padding:40px 20px}@media (max-width: 479px){.success-message[_ngcontent-%COMP%]{padding:32px 16px}}.success-message__icon[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background:linear-gradient(135deg,#10b981,#0c8a60);color:#fff;font-size:48px;margin:0 auto 32px;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.success-message__icon[_ngcontent-%COMP%]{width:80px;height:80px;font-size:36px;margin-bottom:24px}}.success-message__title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1f2937;margin:0 0 20px}@media (max-width: 479px){.success-message__title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:16px}}.success-message__description[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;line-height:1.6;margin:0 0 40px}@media (max-width: 479px){.success-message__description[_ngcontent-%COMP%]{font-size:14px;margin-bottom:32px}}.success-actions[_ngcontent-%COMP%]{gap:16px}.success-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px}@media (max-width: 479px){.success-actions[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.success-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}']})};var Ge=["codeVerificationComponent"],Ae=(o,t)=>t.id;function qe(o,t){o&1&&d(0,"i",16)}function Ue(o,t){if(o&1&&(i(0,"span"),a(1),r()),o&2){let e=p().$implicit;c(),N(e.id)}}function Ye(o,t){if(o&1&&(i(0,"div",14)(1,"div",15),C(2,qe,1,0,"i",16)(3,Ue,2,1,"span"),r(),i(4,"span",17),a(5),r()()),o&2){let e=t.$implicit,n=p();L("progress-step--active",e.id<=n.getStepInfo().step)("progress-step--completed",e.id<n.getStepInfo().step),c(2),m(e.id<n.getStepInfo().step?2:3),c(3),N(e.label)}}function He(o,t){if(o&1){let e=P();i(0,"div",12)(1,"div",18),d(2,"i",19),i(3,"h2"),a(4,"Email requerido"),r(),i(5,"p"),a(6,"Para restablecer tu contrase\xF1a, primero debes ingresar tu email en el formulario de inicio de sesi\xF3n."),r(),i(7,"button",20),g("click",function(){_(e);let s=p();return f(s.goToLogin())}),d(8,"i",21),a(9," Volver al inicio de sesi\xF3n "),r()()()}}function Ke(o,t){if(o&1&&(i(0,"div",12)(1,"div",18),d(2,"i",19),i(3,"p"),a(4),r()()()),o&2){let e=p(2);c(4),N(e.errorMessage)}}function Qe(o,t){if(o&1){let e=P();i(0,"app-method-selection",28),g("methodSelected",function(s){_(e);let l=p(2);return f(l.handleMethodSelection(s))})("goToProfile",function(){_(e);let s=p(2);return f(s.goToLogin())}),r()}if(o&2){let e=p(2);h("userProfile",e.userProfile)("isLoading",e.isLoading)}}function Ze(o,t){if(o&1){let e=P();i(0,"div",24)(1,"div",29)(2,"div",30),d(3,"i",31),r(),i(4,"h2",32),a(5,"C\xF3digo enviado"),r(),i(6,"p",33),a(7),r()(),i(8,"div",34)(9,"div",35),d(10,"i"),i(11,"span"),a(12),r()()(),i(13,"div",36)(14,"button",20),g("click",function(){_(e);let s=p(2);return f(s.goToCodeVerification())}),d(15,"i",37),a(16," Ingresar c\xF3digo "),r(),i(17,"button",38),g("click",function(){_(e);let s=p(2);return f(s.goBack())}),d(18,"i",21),a(19," Cambiar m\xE9todo "),r()()()}if(o&2){let e=p(2);c(7),b(" Hemos enviado un c\xF3digo de verificaci\xF3n a tu ",e.getMethodName(),". El c\xF3digo expirar\xE1 en 10 minutos. "),c(3),de("fas fa-",e.getMethodIcon(),""),c(2),N(e.getMethodContact())}}function We(o,t){if(o&1){let e=P();i(0,"app-code-verification",39,0),g("codeVerified",function(s){_(e);let l=p(2);return f(l.handleCodeVerification(s))})("resendCode",function(){_(e);let s=p(2);return f(s.handleResendCode())})("goBack",function(){_(e);let s=p(2);return f(s.goBack())}),r()}if(o&2){let e=p(2);h("methodName",e.getMethodName())("isLoading",e.isLoading)("isResending",e.isResending)}}function Je(o,t){if(o&1){let e=P();i(0,"app-password-form",40),g("passwordReset",function(s){_(e);let l=p(2);return f(l.handlePasswordReset(s))})("goBack",function(){_(e);let s=p(2);return f(s.goBack())}),r()}if(o&2){let e=p(2);h("isLoading",e.isLoading)}}function Xe(o,t){if(o&1){let e=P();i(0,"app-success-message",41),g("goToProfile",function(){_(e);let s=p(2);return f(s.goToLogin())})("goToDashboard",function(){_(e);let s=p(2);return f(s.goToDashboard())}),r()}if(o&2){let e=p(2);h("sessionsClosed",e.sessionsClosed)}}function et(o,t){if(o&1&&(i(0,"div",22),C(1,Ke,5,1,"div",12)(2,Qe,1,2,"app-method-selection",23)(3,Ze,20,5,"div",24)(4,We,2,3,"app-code-verification",25)(5,Je,1,1,"app-password-form",26)(6,Xe,1,1,"app-success-message",27),r()),o&2){let e,n=p();L("step-content--loading",n.isLoading),c(),m(n.errorMessage&&n.currentStep==="new-password"?1:-1),c(),m((e=n.currentStep)==="method-selection"?2:e==="code-sent"?3:e==="code-verification"?4:e==="new-password"?5:e==="success"?6:-1)}}var Pe=class o{router=u(fe);verificationService=u(ee);passwordService=u(F);logger=u(S);storage=u(z);destroy$=new $;codeVerificationComponent;currentStep="method-selection";isLoading=!1;isResending=!1;sessionsClosed=!1;errorMessage=null;progressSteps=be;userProfile=null;selectedMethod=null;ngOnInit(){this.logger.info("Iniciando flujo de restablecimiento de contrase\xF1a"),this.initializeUserProfile()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.storage.removeTempResetEmail(),this.storage.removeItem("reset_user_profile")}initializeUserProfile(){let t=this.storage.getItem("reset_user_profile");if(t)try{this.userProfile=JSON.parse(t),this.logger.info("Perfil completo de usuario cargado para reset:",{email:this.maskEmailForLog(this.userProfile.email??""),hasEmail:this.userProfile.hasEmail,hasPhone:this.userProfile.hasPhone});return}catch(n){this.logger.warn("Error al parsear perfil guardado:",n),this.storage.removeItem("reset_user_profile")}let e=this.storage.getTempResetEmail();if(e){this.userProfile={email:e,phone:void 0,hasEmail:!0,hasPhone:!1},this.logger.info("Email temporal cargado para reset:",{email:this.maskEmailForLog(e),hasEmail:!0,hasPhone:!1});return}this.logger.warn("No se encontraron datos para reset de contrase\xF1a"),this.userProfile=null}maskEmailForLog(t){let[e,n]=t.split("@");return e.length<=2?`${e}***@${n}`:`${e.substring(0,2)}***@${n}`}getStepInfo(){return Ce[this.currentStep]}goToNextStep(){let t=X.indexOf(this.currentStep);t<X.length-1&&(this.currentStep=X[t+1])}goBack(){let e={"method-selection":null,"code-sent":"method-selection","code-verification":"code-sent","new-password":"code-verification",success:null}[this.currentStep];e?this.currentStep=e:this.goToLogin()}goToCodeVerification(){this.currentStep="code-verification"}handleMethodSelection(t){if(!this.userProfile){this.logger.error("No hay perfil de usuario disponible"),this.errorMessage="No se encontr\xF3 informaci\xF3n del usuario. Por favor, reinicia el proceso.";return}this.selectedMethod=t,this.isLoading=!0,this.errorMessage=null;let e=t==="email"?this.userProfile.email:this.userProfile.phone;this.verificationService.sendCode(t,e).pipe(v(this.destroy$),R(()=>this.isLoading=!1)).subscribe({next:n=>{this.logger.info("C\xF3digo enviado exitosamente",n),this.currentStep="code-sent"},error:n=>{this.logger.error("Error enviando c\xF3digo",n),this.errorMessage="Error al enviar el c\xF3digo de verificaci\xF3n. Por favor, intenta de nuevo."}})}handleCodeVerification(t){this.isLoading=!0,this.errorMessage=null,this.verificationService.verifyCode(t,this.selectedMethod).pipe(v(this.destroy$),R(()=>this.isLoading=!1)).subscribe({next:e=>{this.logger.info("C\xF3digo verificado exitosamente",e),this.currentStep="new-password"},error:e=>{this.logger.error("Error verificando c\xF3digo",e),this.codeVerificationComponent.setError("C\xF3digo incorrecto o expirado. Verifica e int\xE9ntalo de nuevo.")}})}handleResendCode(){if(!this.userProfile){this.logger.error("No hay perfil de usuario disponible para reenv\xEDo"),this.errorMessage="No se encontr\xF3 informaci\xF3n del usuario. Por favor, reinicia el proceso.";return}this.isResending=!0,this.errorMessage=null;let t=this.selectedMethod==="email"?this.userProfile.email:this.userProfile.phone;this.verificationService.resendCode(this.selectedMethod,t).pipe(v(this.destroy$),R(()=>this.isResending=!1)).subscribe({next:e=>{this.logger.info("C\xF3digo reenviado exitosamente",e),this.codeVerificationComponent.resetTimer(600)},error:e=>{this.logger.error("Error reenviando c\xF3digo",e),this.errorMessage="Error al reenviar el c\xF3digo. Por favor, intenta de nuevo."}})}handlePasswordReset(t){this.isLoading=!0,this.errorMessage=null,this.passwordService.resetPassword(t.newPassword,t.closeOtherSessions).pipe(v(this.destroy$),R(()=>this.isLoading=!1)).subscribe({next:e=>{this.logger.info("Contrase\xF1a restablecida exitosamente",e),this.sessionsClosed=e.sessionsClosed||!1,this.currentStep="success",this.storage.removeTempResetEmail(),this.storage.removeItem("verification_code")},error:e=>{this.logger.error("Error restableciendo contrase\xF1a",e);let n="Ocurri\xF3 un error al restablecer la contrase\xF1a. Por favor, intenta de nuevo.";e.status===400?e.error?.message.includes("code")?n="El c\xF3digo de verificaci\xF3n es inv\xE1lido o ha expirado.":e.error?.message.includes("password")&&(n="La contrase\xF1a no cumple con los requisitos de seguridad."):e.status===401?n="No autorizado. Por favor, verifica tu identidad nuevamente.":e.status===500&&(n="Error en el servidor. Intenta de nuevo m\xE1s tarde."),this.errorMessage=n}})}getMethodName(){return this.selectedMethod==="email"?"correo electr\xF3nico":"tel\xE9fono m\xF3vil"}getMethodIcon(){return this.selectedMethod==="email"?"envelope":"mobile-alt"}getMethodContact(){return this.userProfile?this.selectedMethod==="email"?this.verificationService.maskEmail(this.userProfile.email):this.userProfile.phone||"":""}goToLogin(){this.storage.removeTempResetEmail(),this.storage.removeItem("reset_user_profile"),this.router.navigate(["/login"])}goToProfile(){this.storage.removeTempResetEmail(),this.storage.removeItem("reset_user_profile"),this.router.navigate(["/user-panel/profile"])}goToDashboard(){this.storage.removeTempResetEmail(),this.storage.removeItem("reset_user_profile"),this.router.navigate(["/dashboard"])}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=M({type:o,selectors:[["app-reset-password-flow"]],viewQuery:function(e,n){if(e&1&&le(Ge,5),e&2){let s;ge(s=me())&&(n.codeVerificationComponent=s.first)}},decls:16,vars:5,consts:[["codeVerificationComponent",""],[1,"reset-password-flow"],[1,"progress-indicator"],[1,"progress-indicator__header"],[1,"progress-indicator__title"],[1,"progress-indicator__subtitle"],[1,"progress-indicator__steps"],[1,"progress-steps"],[1,"progress-step",3,"progress-step--active","progress-step--completed"],[1,"progress-bar"],[1,"progress-bar__fill"],[1,"reset-password-form"],[1,"error-container"],[1,"step-content",3,"step-content--loading"],[1,"progress-step"],[1,"progress-step__circle"],[1,"fas","fa-check"],[1,"progress-step__label"],[1,"error-message"],[1,"fas","fa-exclamation-triangle"],["type","button",1,"btn","btn--primary",3,"click"],[1,"fas","fa-arrow-left"],[1,"step-content"],[3,"userProfile","isLoading"],[1,"code-sent"],[3,"methodName","isLoading","isResending"],[3,"isLoading"],[3,"sessionsClosed"],[3,"methodSelected","goToProfile","userProfile","isLoading"],[1,"code-sent__header"],[1,"code-sent__icon"],[1,"fas","fa-paper-plane"],[1,"code-sent__title"],[1,"code-sent__description"],[1,"sent-details"],[1,"sent-details__item"],[1,"code-sent__actions"],[1,"fas","fa-keyboard"],["type","button",1,"btn","btn--outline",3,"click"],[3,"codeVerified","resendCode","goBack","methodName","isLoading","isResending"],[3,"passwordReset","goBack","isLoading"],[3,"goToProfile","goToDashboard","sessionsClosed"]],template:function(e,n){e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),a(4,"Restablecer Contrase\xF1a"),r(),i(5,"p",5),a(6),r()(),i(7,"div",6)(8,"div",7),G(9,Ye,6,6,"div",8,Ae),r(),i(11,"div",9),d(12,"div",10),r()()(),i(13,"div",11),C(14,He,10,0,"div",12)(15,et,7,4,"div",13),r()()),e&2&&(c(6),b(" ",n.getStepInfo().title," "),c(3),A(n.progressSteps),c(3),B("width",n.getStepInfo().step/n.getStepInfo().total*100,"%"),c(2),m(n.userProfile?-1:14),c(),m(n.userProfile?15:-1))},dependencies:[O,te,oe,ie,re],styles:['@charset "UTF-8";.form-field[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 479px){.form-field[_ngcontent-%COMP%]{margin-bottom:20px}}.form-field__label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#1f2937;margin-bottom:8px}@media (max-width: 479px){.form-field__label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px}}.form-field__required[_ngcontent-%COMP%]{color:#ef4444;margin-left:4px}.form-field__input-container[_ngcontent-%COMP%]{position:relative}.form-field__input[_ngcontent-%COMP%]{width:100%;padding:12px 48px 12px 16px;border:2px solid #e5e7eb;border-radius:10px;font-size:14px;background:#fff;transition:all .2s ease}.form-field__input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f59e0b;box-shadow:0 0 0 3px #f59e0b1a}.form-field__input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}@media (max-width: 479px){.form-field__input[_ngcontent-%COMP%]{padding:14px 48px 14px 16px;font-size:16px}}.form-field__toggle-password[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;background:none;border:none;color:#9ca3af;cursor:pointer;padding:4px;border-radius:4px;transition:color .2s ease;transform:translateY(-50%)}.form-field__toggle-password[_ngcontent-%COMP%]:hover{color:#6b7280}.form-field__toggle-password[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.form-field__error[_ngcontent-%COMP%]{margin-top:6px;font-size:12px;color:#ef4444;font-weight:500}.form-field__error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:6px}@media (max-width: 479px){.form-field__error[_ngcontent-%COMP%]{font-size:11px}}.form-field__error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#ef4444}@media (max-width: 479px){.form-field__error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px}}.security-notice[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border:1px solid #f59e0b;border-radius:12px;padding:20px;margin-bottom:32px}.security-notice[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;gap:16px}@media (max-width: 479px){.security-notice[_ngcontent-%COMP%]{padding:16px;margin-bottom:24px;flex-direction:column;gap:12px}}.security-notice__icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f59e0b33;color:#c57f08;flex-shrink:0;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.security-notice__icon[_ngcontent-%COMP%]{width:40px;height:40px}.security-notice__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}}.security-notice__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.security-notice__content[_ngcontent-%COMP%]{flex:1}.security-notice__title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#634004;margin:0 0 12px}@media (max-width: 479px){.security-notice__title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:8px}}.security-notice__list[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:#945f06}.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px}@media (max-width: 479px){.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px}}.security-notice__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.password-strength[_ngcontent-%COMP%]{margin-top:12px}.password-strength__label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-bottom:8px;font-weight:500}.password-strength__bar[_ngcontent-%COMP%]{height:4px;background:#e5e7eb;border-radius:2px;overflow:hidden;margin-bottom:6px}.password-strength__fill[_ngcontent-%COMP%]{height:100%;border-radius:2px;transition:all .2s ease}.password-strength__fill--weak[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#eb1515)}.password-strength__fill--fair[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#c57f08)}.password-strength__fill--good[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#0b63f3)}.password-strength__fill--strong[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#0c8a60)}.password-strength__text[_ngcontent-%COMP%]{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.password-strength__text--weak[_ngcontent-%COMP%]{color:#ef4444}.password-strength__text--fair[_ngcontent-%COMP%]{color:#f59e0b}.password-strength__text--good[_ngcontent-%COMP%]{color:#3b82f6}.password-strength__text--strong[_ngcontent-%COMP%]{color:#10b981}.form-options[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 479px){.form-options[_ngcontent-%COMP%]{margin:20px 0}}.form-options__checkbox[_ngcontent-%COMP%]{cursor:pointer}.form-options__checkbox[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;gap:12px}@media (max-width: 479px){.form-options__checkbox[_ngcontent-%COMP%]{gap:10px}}.form-options__checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e5e7eb;border-radius:4px;position:relative;flex-shrink:0;transition:all .2s ease}@media (max-width: 479px){.form-options__checkmark[_ngcontent-%COMP%]{width:18px;height:18px}}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#0b63f3);border-color:#3b82f6}.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;left:50%;top:50%;color:#fff;font-size:12px;font-weight:700;transform:translate(-50%,-50%)}@media (max-width: 479px){.form-options__checkmark[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .form-options__checkmark[_ngcontent-%COMP%]:after{font-size:10px}}.form-options__text[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#1f2937;line-height:1.5}@media (max-width: 479px){.form-options__text[_ngcontent-%COMP%]{font-size:13px}}.form-options__recommended[_ngcontent-%COMP%]{color:#10b981;font-weight:500;font-size:13px}@media (max-width: 479px){.form-options__recommended[_ngcontent-%COMP%]{font-size:12px}}.form-actions[_ngcontent-%COMP%]{padding-top:32px;border-top:1px solid #f3f4f6}.form-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:16px}@media (max-width: 479px){.form-actions[_ngcontent-%COMP%]{padding-top:24px;flex-direction:column;gap:12px}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-weight:600;font-size:14px;cursor:pointer;border:none;min-width:160px;transition:all .3s cubic-bezier(.4,0,.2,1)}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}@media (max-width: 479px){.btn[_ngcontent-%COMP%]{padding:14px 20px;font-size:16px}}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#c57f08);color:#fff;box-shadow:0 4px 14px #f59e0b40}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #f59e0b59}@media (prefers-reduced-motion: reduce){.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:none}}.btn--primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn--outline[_ngcontent-%COMP%]{background:transparent;color:#6b7280;border:2px solid #e5e7eb}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;color:#1f2937;border-color:#d1d5db}@media (hover: none) and (pointer: coarse){.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:transparent;color:#6b7280;border-color:#e5e7eb}}@media (prefers-reduced-motion: reduce){.btn[_ngcontent-%COMP%], .method-option[_ngcontent-%COMP%], .password-strength__fill[_ngcontent-%COMP%], .code-input__digit[_ngcontent-%COMP%]{transition:none!important}.btn[_ngcontent-%COMP%]:hover, .method-option[_ngcontent-%COMP%]:hover, .password-strength__fill[_ngcontent-%COMP%]:hover, .code-input__digit[_ngcontent-%COMP%]:hover{transform:none!important}}[_ngcontent-%COMP%]:focus-visible{outline:3px solid #f59e0b;outline-offset:2px;border-radius:4px}.reset-password-flow[_ngcontent-%COMP%]{max-width:700px;margin:80px auto 0;padding:24px}@media (max-width: 479px){.reset-password-flow[_ngcontent-%COMP%]{padding:16px}}.progress-indicator[_ngcontent-%COMP%]{margin-bottom:40px}@media (max-width: 479px){.progress-indicator[_ngcontent-%COMP%]{margin-bottom:32px}}.progress-indicator__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}@media (max-width: 479px){.progress-indicator__header[_ngcontent-%COMP%]{margin-bottom:24px}}.progress-indicator__title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1f2937;margin:0 0 12px}@media (max-width: 479px){.progress-indicator__title[_ngcontent-%COMP%]{font-size:28px;margin-bottom:8px}}.progress-indicator__subtitle[_ngcontent-%COMP%]{font-size:18px;color:#6b7280;margin:0}@media (max-width: 479px){.progress-indicator__subtitle[_ngcontent-%COMP%]{font-size:16px}}.progress-indicator__steps[_ngcontent-%COMP%]{position:relative}.progress-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:16px}.progress-steps[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px}@media (max-width: 479px){.progress-steps[_ngcontent-%COMP%]{gap:8px}}.progress-step[_ngcontent-%COMP%]{text-align:center;flex:1}.progress-step__circle[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#e5e7eb;color:#9ca3af;font-size:16px;font-weight:600;margin:0 auto 8px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.progress-step__circle[_ngcontent-%COMP%]{width:40px;height:40px;font-size:14px}}.progress-step__circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 479px){.progress-step__circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}}.progress-step__label[_ngcontent-%COMP%]{font-size:14px;color:#9ca3af;font-weight:500}@media (max-width: 479px){.progress-step__label[_ngcontent-%COMP%]{font-size:12px}}.progress-step--active[_ngcontent-%COMP%]   .progress-step__circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#c57f08);color:#fff;box-shadow:0 4px 14px #f59e0b40}.progress-step--active[_ngcontent-%COMP%]   .progress-step__label[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600}.progress-step--completed[_ngcontent-%COMP%]   .progress-step__circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#0c8a60);color:#fff;box-shadow:0 4px 14px #10b98140}.progress-step--completed[_ngcontent-%COMP%]   .progress-step__label[_ngcontent-%COMP%]{color:#10b981}.progress-bar[_ngcontent-%COMP%]{height:4px;background:#e5e7eb;border-radius:2px;overflow:hidden;position:relative}.progress-bar__fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#f59e0b,#c57f08);border-radius:2px;transition:width .5s ease}.reset-password-form[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:40px;box-shadow:0 8px 32px #00000014;border:1px solid #e5e7eb}@media (max-width: 479px){.reset-password-form[_ngcontent-%COMP%]{padding:24px;border-radius:16px}}.step-content[_ngcontent-%COMP%]{min-height:400px;position:relative}@media (max-width: 479px){.step-content[_ngcontent-%COMP%]{min-height:300px}}.step-content--loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}.step-content--loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;width:40px;height:40px;border:3px solid #e5e7eb;border-top-color:#f59e0b;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;transform:translate(-50%,-50%)}@keyframes _ngcontent-%COMP%_spin{to{transform:translate(-50%,-50%) rotate(360deg)}}.code-sent[_ngcontent-%COMP%]{text-align:center}.code-sent__header[_ngcontent-%COMP%]{margin-bottom:32px}@media (max-width: 479px){.code-sent__header[_ngcontent-%COMP%]{margin-bottom:24px}}.code-sent__icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#10b981,#0c8a60);color:#fff;font-size:36px;margin:0 auto 24px;display:flex;align-items:center;justify-content:center}@media (max-width: 479px){.code-sent__icon[_ngcontent-%COMP%]{width:64px;height:64px;font-size:28px;margin-bottom:20px}}.code-sent__title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1f2937;margin:0 0 16px}@media (max-width: 479px){.code-sent__title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}}.code-sent__description[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;line-height:1.6;margin:0}@media (max-width: 479px){.code-sent__description[_ngcontent-%COMP%]{font-size:14px}}.code-sent__actions[_ngcontent-%COMP%]{gap:16px;margin-top:32px}.code-sent__actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px}@media (max-width: 479px){.code-sent__actions[_ngcontent-%COMP%]{flex-direction:column;gap:12px;margin-top:24px}.code-sent__actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.sent-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border:1px solid #bae6fd;border-radius:12px;padding:20px;margin:24px 0}@media (max-width: 479px){.sent-details[_ngcontent-%COMP%]{padding:16px;margin:20px 0}}.sent-details__item[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#3b82f6}.sent-details__item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px}@media (max-width: 479px){.sent-details__item[_ngcontent-%COMP%]{font-size:14px}}.sent-details__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 479px){.sent-details__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}}']})};export{Pe as ResetPasswordFlowContainer};
